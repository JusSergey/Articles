<html><head></head><body color="#FFFFFF">

   <font face="arial,sans-serif" size="2" color="#000099">
   <b>
   URL: /cgi-bin/dcforum/dcboard.cgi<br>
   Forum: DCForumID1<br>
   Thread Number: 147<br>
   [ <a href="http://www.kalinin.ru/dcforum//DCForumID1/147.html">Go back to previous page</a> ]
   </b><hr>
   
<b><font size=2>Original Message<hr>"Передача параметров функции"</font></b><br>
Posted by ilias  on 07-Oct-04 at 08:17&nbsp;AM<br>
<blockquote>Есть функция, которая принимает много аргументов (штук 20). Но все эти аргументы имеют один тип - double, - поэтому появилась идея копировать их во внутренний массив и брать из массива по индексам (меньше кода - меньше ошибок). <P>В связи с этим вопрос: на каждой ли платформе в C++ такой список аргументов можно представить массивом?<P>double f(double a0, double a1, double a2, ..., double a19)<BR>{<BR>  double data<20>;<BR>  double* args = &a0;<BR>  for(int i = 0; i &lt; 20; i++)<BR>    data<i> = args<i>;<BR>}</blockquote><hr><b><font size=2>Table of contents</font></b><hr>
<ul>
<li><b>RE: Передача параметров функции</b>,<b>V</b>, 07:45&nbsp;PM, 07-Oct-04
<ul>
<li><b>RE: Передача параметров функции</b>,<b>alk</b>, 08:14&nbsp;PM, 07-Oct-04
<li><b>RE: Передача параметров функции</b>,<b>Proteus</b>, 02:10&nbsp;AM, 20-Nov-04
</ul>
<li><b>RE: Передача параметров функции</b>,<b>alk</b>, 08:11&nbsp;PM, 07-Oct-04
<ul>
<li><b>RE: Передача параметров функции</b>,<b>ilias</b>, 06:37&nbsp;PM, 08-Oct-04
</ul>
<li><b>RE: Передача параметров функции</b>,<b>ilias</b>, 08:37&nbsp;AM, 09-Oct-04
</ul>
<hr><b><font size=2>Messages in this discussion</font></b><hr>
<b>"RE: Передача параметров функции"</b><br>
Posted by V  on 07-Oct-04 at 07:45&nbsp;PM<br>
<blockquote>
Это плохая практика, так ка ты не знаешь что конкретно сделает в стеке компилятор. Почему бы не передавать указатель на массив? Или использовать технику передачи переменного количества параметров?<BR> 
</blockquote>
<hr>
<b>"RE: Передача параметров функции"</b><br>
Posted by alk  on 07-Oct-04 at 08:14&nbsp;PM<br>
<blockquote>
&gt;Или использовать технику передачи переменного <BR>&gt;количества параметров? <P>С переменным количеством параметров неясно что именно будет передано в n-ом аргументе. Будет написано при вызове f(1,2,3,...) и первые три аргумента пойдут целочисленными, а не double. То есть, нужно передавать количество параметров и тип каждого из них (собственно, как это сделано в printf'е), что, в данном случае, будет сильно менее удобно. <P><BR>
</blockquote>
<hr>
<b>"RE: Передача параметров функции"</b><br>
Posted by Proteus  on 20-Nov-04 at 02:10&nbsp;AM<br>
<blockquote>
&gt;Это плохая практика, так ка ты <BR>&gt;не знаешь что конкретно сделает <BR>&gt;в стеке компилятор. <BR>Был такой прикольный копилятор Watcom (и ща есть, в прошлом месяце новую версию выпустили). Он вообще стек не использовал. Он всё что можно в регистры совал и так и передавал. А все что не лезло пихал тогда на стек.<P><P><BR>
</blockquote>
<hr>
<b>"RE: Передача параметров функции"</b><br>
Posted by alk  on 07-Oct-04 at 08:11&nbsp;PM<br>
<blockquote>
Я не думаю, что это так делать --- правильно. То есть, вполне вероятно, что на большинстве компиляторов/платформ это и будет работать, но выглядит просто дико.<P>Мне почему-то кажется, что вообще само решение неверно: двадцать параметров у функции! Это же убиться можно. Все-таки, их обычно либо в структуры запихивают, либо в массивы.  
</blockquote>
<hr>
<b>"RE: Передача параметров функции"</b><br>
Posted by ilias  on 08-Oct-04 at 06:37&nbsp;PM<br>
<blockquote>
Все, передаю аргументы через std::vector&lt;double&gt;. Или через double*. Ведь есть в математике функции от векторов! Правда все-же придется тогда отдельно (на базе написанного, конечно же) сделать унарную, бинарную и тернарную функции, а то передавать массив в функцию одной переменной все же диковато выглядит <img src="/dcforum//Images/wink.gif">
</blockquote>
<hr>
<b>"RE: Передача параметров функции"</b><br>
Posted by ilias  on 09-Oct-04 at 08:37&nbsp;AM<br>
<blockquote>
А что за фигня с этим форумом? Почему объявление<P>&gt;  double data<20>; <P>Имеет странный вид, будто это шаблон?<P>А тут вообще курсив вместо индексации.<P>&gt;    data<i> = args<i>; <P>Как поставить квадратные скобки и выронвнять код?<P><BR>
</blockquote>
<hr>
</font></body></html>
