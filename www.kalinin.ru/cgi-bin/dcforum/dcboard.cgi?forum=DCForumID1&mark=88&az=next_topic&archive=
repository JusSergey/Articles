<HTML>
<HEAD>
<TITLE>
ALK Homepage  - "shmget"
</TITLE>
<style type="text/css"><!-- 
      A:hover {COLOR: #F78743; text-decoration : underline;}
      body { font-family: times new roman, serif; }
//-->
</style>

<!-- Required Marker-->

   <META HTTP-EQUIV="Expires" CONTENT="Tues, 04 Dec 1996 21:00:00 GMT">
   <META HTTP-EQUIV="pragma" content="no cache">

<script  language="javascript">
function jumpPage(form) {
i = form.forum.selectedIndex;
if (i == 0) return;
    window.location.href = url[i+1];
}

function openWindow(url) {
   opinion = window.open(url,"Handheld",'toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=1,resizable=0,width=150,height=400');
}

function makeRemote(url){
	remote = window.open(url,"remotewin","width=500,height=250,scrollbars=1");
	remote.location.href = url;
	if (remote.opener == null) remote.opener = window;
}
</script>

</HEAD>

<BODY bgcolor="#FBF9F1" vlink="#93481B" link="#DE6F2C" text="black" alink="#F78743">
<a href="http://counter.rambler.ru/top100/"><img src="http://counter.rambler.ru/top100.cnt?160852" alt="Rambler's Top100 Service" width=1 height=1 border=0></a>
<CENTER>
<!-- Required Marker-->
<font size="3" face="verdana" color="black">
<b>ALK Homepage </b>
</font>
<p>
<!-- Required Marker-->

<p>
<!-- Required Marker-->
<font size="3" face="verdana" color="black">
<b>"shmget"</b>
</font>
<p>

<!-- Required Marker-->

   <TABLE BORDER="0" WIDTH="70%" cellspacing="0" cellpadding="4">
   <TR><TD ALIGN="LEFT" VALIGN="BOTTOM" COLSPAN="2" bgcolor="#EAE8E0">
   <a href="/cgi-bin/dcforum/dcboard.cgi?az=printer_format&om=83&forum=DCForumID1"><img
   src="/dcforum//Images/printer_friendly.gif" align="bottom" border="0"><font 
   SIZE="1" FACE="arial,sans-serif" 
   color="black">Printer-friendly version of this topic</font></a></TD>
   <TD ALIGN="RIGHT" VALIGN="BOTTOM" COLSPAN="2" BGCOLOR="#EAE8E0">
   <font face="arial,sans-serif" color="black" size="-1">
   <font color="black"><b></b></font>&nbsp;
   <br><font size="-1" color="black" face="arial,sans-serif">
   <a href="/cgi-bin/dcforum/dcboard.cgi?forum=DCForumID1&mark=83&az=previous_topic&archive="><font 
   size="-1" color="black" face="arial,sans-serif">Previous Topic</font></a> |
   <a href="/cgi-bin/dcforum/dcboard.cgi?forum=DCForumID1&mark=83&az=next_topic&archive="><font 
   size="-1" color="black" face="arial,sans-serif">Next Topic</font></a></font>&nbsp;</FONT></TD></TR>
      <TR><TH COLSPAN="4" ALIGN="LEFT" VALIGN="BOTTOM" BGCOLOR="#EAE8E0">
      <a href="/"><font 
            size="-1" face="arial,sans-serif" color="black">Home</font></a>
            <img src="/dcforum//Images/dir.gif"> <a href="/cgi-bin/dcforum/dcboard.cgi"><font 
         face="arial,sans-serif" color="black" size="-1">Conferences</font></a>
         <img src="/dcforum//Images/dir.gif"> 
      <a href="/cgi-bin/dcforum/dcboard.cgi?az=list&forum=DCForumID1&archive="><font 
         face="arial,sans-serif" color="black" size="-1">Основной форум</FONT></a> <font 
         face="arial,sans-serif" color="black" size="-1">(Public)</font>
         </TH></TR>
      <TR BGCOLOR="#E3DAA5">
      <TD ALIGN="LEFT" COLSPAN="4">
      <font SIZE="-1" FACE="arial,sans-serif" color="#83350F">
      Original message</font></TD></TR></TABLE>
      <br>
      <TABLE BORDER="0" WIDTH="70%" 
   CELLPADDING="4" Cellspacing="0">
      <TR BGCOLOR="#EAE8E0"><TD colspan="2" width="100%" ALIGN="LEFT">
         <FONT SIZE="-1" FACE="arial,sans-serif" COLOR="black">
         <a name="0"></a> <b>"shmget"</b></FONT></TD></TR>
      <TR BGCOLOR="#EAE8E0"><TD align="Left" colspan="2">
      <FONT SIZE="-1" FACE="arial,sans-serif" COLOR="black">
      Posted by <b>Михаил Эзау</b> <a 
            href="mailto:t72@tlm.pp.ru"><IMG SRC="/dcforum//Images/email.gif" 
             border="0" alt="Click to email "></a>  on </font> <FONT SIZE="1" 
		FACE="arial,sans-serif" COLOR="black">
      11-May-02,&nbsp;01:44&nbsp;PM&nbsp;(MSD)
         </font></td></tr>
      <TR BGCOLOR="#FBF9F1"><td colspan="2" width="100%">
         <FONT SIZE="-1" FACE="arial,sans-serif" COLOR="black">
         <blockquote>
         Джельтмены, а копал ли кто из Вас работу с shared memory в FreeBSD ? У меня такое чуство, что семейство функций shm* сделано "чисто для галочки":<P>1) Нет автоматического убивания приватных объектов после гибели процесса, использовавшего его. Из-за чего очень просто делается DoS любым юзером;<P>2) Если просканировать /usr/src на предмет утилит, использующих, скажем, функцию shmget - оказывается, сами фрюхозоиды отнють не рвуться использовать эту функцию.<P><BR>Люди, объясните мне, кто знает правду - shared memory действительно лучше не трогать, или я неправ и копать надо в другом направлении? <img src="/dcforum//Images/happy.gif">
         </blockquote></FONT></TD></TR>
      <TR BGCOLOR="#EAE8E0"><TD ALIGN="LEFT" valign="top" width="30%">
         <FONT SIZE="1" FACE="arial,sans-serif" COLOR="black">&nbsp;
    
      </FONT></TD>
      <TD ALIGN="RIGHT" valign="top">
      <FONT SIZE="1" FACE="arial,sans-serif" COLOR="black">
    <a href="/cgi-bin/dcforum/dcboard.cgi?az=edit&forum=DCForumID1&om=83&omm=0"><FONT 
         SIZE="1" FACE="arial,sans-serif" COLOR="black">Edit</FONT></a> |
         <a href="/cgi-bin/dcforum/dcboard.cgi?az=post&forum=DCForumID1&om=83&omm=0"><FONT 
         SIZE="1" FACE="arial,sans-serif" COLOR="black">Reply</FONT></a> |
         <a href="/cgi-bin/dcforum/dcboard.cgi?quote=not_empty&az=post&forum=DCForumID1&om=83&omm=0"><FONT 
         SIZE="1" FACE="arial,sans-serif" COLOR="black">Reply With Quote</FONT></a> | <a href="#TOP"><FONT 
      SIZE="1" FACE="arial,sans-serif" COLOR="black">Top</FONT></a> </FONT></TD></TR>
	</TABLE>
      <br>
         <TABLE BORDER="0" WIDTH="70%" cellspacing="0" cellpadding="4">
         <TR BGCOLOR="#E3DAA5">
         <TD ALIGN="LEFT">
         <font SIZE="-1" FACE="arial,sans-serif" color="#83350F">
         <a name="TOP">&nbsp;</a>Table of contents</font></TD></TR></TABLE>
         <br><TABLE 
         BORDER="0" WIDTH="70%" cellspacing="0" cellpadding="4">
         <TR><TD ALIGN="LEFT" COLSPAN="2">
         <font SIZE="-1" FACE="arial,sans-serif" color="black">
         
               <img src="/dcforum//Images/message.gif">
               <a href="#1">RE: shmget</a>,
               <b>Andrey L. Kalinin</b>, <font size="1">13-May-02, (1)</font><br>
               
         </font></TD></TR></TABLE><p>
         <TABLE BORDER="0" WIDTH="70%" cellspacing="0" cellpadding="4">
         <TR><TD ALIGN="right" COLSPAN="2">
         <font size="-1" color="black" face="arial,sans-serif">
   <a href="/cgi-bin/dcforum/dcboard.cgi"><font 
   size="-1" color="black" face="arial,sans-serif">Lobby</font></a> |
   <a href="/cgi-bin/dcforum/dcboard.cgi?az=list&forum=DCForumID1"><font 
   size="-1" color="black" face="arial,sans-serif">Topics</font></a> |
   <a href="/cgi-bin/dcforum/dcboard.cgi?forum=DCForumID1&mark=83&az=previous_topic&archive="><font 
   size="-1" color="black" face="arial,sans-serif">Previous Topic</font></a> |
   <a href="/cgi-bin/dcforum/dcboard.cgi?forum=DCForumID1&mark=83&az=next_topic&archive="><font 
   size="-1" color="black" face="arial,sans-serif">Next Topic</font></a></font>
         </TD></TR></TABLE><TABLE BORDER="0" WIDTH="70%" 
         cellspacing="0" cellpadding="4">
         <TR BGCOLOR="#E3DAA5">
         <TD ALIGN="LEFT">
         <font SIZE="-1" FACE="arial,sans-serif" color="#83350F">
         Messages in this topic
         </font></TD></TR></TABLE>
         <br>
         

   <TABLE BORDER="0" WIDTH="70%" 
   CELLPADDING="4" Cellspacing="0">
      <TR BGCOLOR="#EAE8E0"><TD colspan="2" width="100%" ALIGN="LEFT">
         <FONT SIZE="-1" FACE="arial,sans-serif" COLOR="black">
         <a name="1"></a>1.  <b>"RE: shmget"</b></FONT></TD></TR>
      <TR BGCOLOR="#EAE8E0"><TD align="Left" colspan="2">
      <FONT SIZE="-1" FACE="arial,sans-serif" COLOR="black">
      Posted by <b>Andrey L. Kalinin</b> <a 
            href="mailto:andrey@kalinin.ru"><IMG SRC="/dcforum//Images/email.gif" 
             border="0" alt="Click to email "></a>  on </font> <FONT SIZE="1" 
		FACE="arial,sans-serif" COLOR="black">
      13-May-02,&nbsp;10:37&nbsp;PM&nbsp;(MSD)
         </font></td></tr>
      <TR BGCOLOR="#FBF9F1"><td colspan="2" width="100%">
         <FONT SIZE="-1" FACE="arial,sans-serif" COLOR="black">
         <blockquote>
         &gt;Джельтмены, а копал ли кто из <BR>&gt;Вас работу с shared memory <BR>&gt;в FreeBSD ? У меня <BR>&gt;такое чуство, что семейство функций <BR>&gt;shm* сделано "чисто для галочки": <P>Интересный вопрос. Честно --- я никогда об этом не  задумывался, потому что необходимость в использовании shared memory возникает крайне редко... я обычно обхожусь сокетами и каналами.<P>С другой стороны я никаких нареканий не помню, кроме чего-то "эдакого" в FreeBSD 4.1. Так что по слухам, работает нормально, но сам я в этом не уверен.<P>&gt;1) Нет автоматического убивания приватных объектов <BR>&gt;после гибели процесса, использовавшего его. <BR>&gt;Из-за чего очень просто делается <BR>&gt;DoS любым юзером; <P>Хм. Может быть я ошибаюсь, но shared memory в sysV вроде бы имеет "живучесть ядра"? Вне зависимости от IPC_PRIVATE. Во всяком случае, исключений в Стивенсе не упоминается, а он обычно очень педантично расписывает все возможные случаи.<P>Насколько я понимаю это общая проблема SysV-вызовов. С другой стороны, в структуре shmid_ds есть поле shm_nattach, по которой можно было бы отследить завершение использования памятью всеми процессами, но оно используется только для определения правомерности удаления объекта.<P>C другой стороны, опять же, если я правильно понимаю, то физически идентификатор, получаемый из shmget можно попросту переносить между процессами. Хотя, конечно, возможно что это побочный эффект реализации, хотя немного полазив по интернету я уже так не думаю. IPC_PRIVATE это же не флаг "приватности", это всего лишь уверенность в том, что всегда будет создан новый объект SysV IPC.<P>&gt;2) Если просканировать /usr/src на предмет <BR>&gt;утилит, использующих, скажем, функцию shmget <BR>&gt;- оказывается, сами фрюхозоиды отнють <BR>&gt;не рвуться использовать эту функцию. <P>Ну /usr/src это несколько не то место, в котором стоит ожидать использования IPC.<P>&gt;Люди, объясните мне, кто знает правду <BR>&gt;- shared memory действительно лучше <BR>&gt;не трогать, или я неправ <BR>&gt;и копать надо в другом <BR>&gt;направлении? <img src="/dcforum//Images/happy.gif"> <P>Опять же, насколько я знаю, shared memory в FreeBSD используется. <BR>
         </blockquote></FONT></TD></TR>
      <TR BGCOLOR="#EAE8E0"><TD ALIGN="LEFT" valign="top" width="30%">
         <FONT SIZE="1" FACE="arial,sans-serif" COLOR="black">&nbsp;
    
       <a href="/cgi-bin/dcforum/dcadmin.cgi?az=admin_board_manager&command=admin_remove_messages&forum=DCForumID1&thread_select=83&selected=1"><FONT 
            SIZE="1" FACE="arial,sans-serif" COLOR="black">Remove</font></a> </FONT></TD>
      <TD ALIGN="RIGHT" valign="top">
      <FONT SIZE="1" FACE="arial,sans-serif" COLOR="black">
    <a href="/cgi-bin/dcforum/dcboard.cgi?az=edit&forum=DCForumID1&om=83&omm=1"><FONT 
         SIZE="1" FACE="arial,sans-serif" COLOR="black">Edit</FONT></a> |
         <a href="/cgi-bin/dcforum/dcboard.cgi?az=post&forum=DCForumID1&om=83&omm=1"><FONT 
         SIZE="1" FACE="arial,sans-serif" COLOR="black">Reply</FONT></a> |
         <a href="/cgi-bin/dcforum/dcboard.cgi?quote=not_empty&az=post&forum=DCForumID1&om=83&omm=1"><FONT 
         SIZE="1" FACE="arial,sans-serif" COLOR="black">Reply With Quote</FONT></a> | <a href="#TOP"><FONT 
      SIZE="1" FACE="arial,sans-serif" COLOR="black">Top</FONT></a> </FONT></TD></TR>
	</TABLE><br>


   <TABLE BORDER="0" WIDTH="70%" cellspacing="0" cellpadding="3">
   <TR BGCOLOR="#EAE8E0"><TD ALIGN="LEFT">
   <br>
   <font size="-1" color="black" face="arial,sans-serif"> 
      <a href="/cgi-bin/dcforum/dcadmin.cgi?az=admin_board_manager&command=admin_archive_threads&forum=DCForumID1&selected=83"><font 
      size="-1" color="black" face="arial,sans-serif">Archive</font></a> |  
   <a href="/cgi-bin/dcforum/dcadmin.cgi?az=admin_board_manager&command=admin_remove_threads&forum=DCForumID1&selected=83&archive="><font 
   size="-1" color="black" face="arial,sans-serif">Remove</font></a> </font>
   <br>
   </TD><TD ALIGN="RIGHT">
   <br>
   <font size="-1" color="black" face="arial,sans-serif">
   <a href="/cgi-bin/dcforum/dcboard.cgi"><font 
   size="-1" color="black" face="arial,sans-serif">Lobby</font></a> |
   <a href="/cgi-bin/dcforum/dcboard.cgi?az=list&forum=DCForumID1"><font 
   size="-1" color="black" face="arial,sans-serif">Topics</font></a> |
   <a href="/cgi-bin/dcforum/dcboard.cgi?forum=DCForumID1&mark=83&az=previous_topic&archive="><font 
   size="-1" color="black" face="arial,sans-serif">Previous Topic</font></a> |
   <a href="/cgi-bin/dcforum/dcboard.cgi?forum=DCForumID1&mark=83&az=next_topic&archive="><font 
   size="-1" color="black" face="arial,sans-serif">Next Topic</font></a></font>
   </TD></TR>
   
   </TABLE>

<!-- Required Marker-->

<script language="javascript">
function MakeArray() {
   this.length = MakeArray.arguments.length
   for (var i = 0; i < this.length; i++)
   this[i+1] = MakeArray.arguments[i]
}

var url = new MakeArray("","/cgi-bin/dcforum/dcboard.cgi",
"/cgi-bin/dcforum/dcboard.cgi?conf=conference",
"/cgi-bin/dcforum/dcboard.cgi?az=list&forum=DCForumID1"
   )
</script>


<TABLE BORDER="0" WIDTH="70%" CELLPADDING="3" cellspacing="1">
    <TR BGCOLOR="#EAE8E0">
      <TD ALIGN="RIGHT" VALIGN="TOP">
         <FORM ACTION="/cgi-bin/dcforum/dcboard.cgi" METHOD="POST">
         <input type="hidden" name="az" value="list">
         <FONT SIZE="1" COLOR="black" FACE="arial,sans-serif">
         <select name="forum" onChange="jumpPage(this.form)">
         <option value="">Select another forum
         <option value="LOBBY">Lobby
         <option value="/cgi-bin/dcforum/dcboard.cgi">Main (Conference)
            <option value="DCForumID1">&nbsp;&nbsp;|--Основной форум (Public)
            
      </select></form>
      </TD>
    </TR>
  </TABLE>
    


<!-- You must leave this copyright statement. Thank you in advance. -->
<TABLE BORDER="0" WIDTH="100%">
	<TR><td align="right">
		<font size="1" face="verdana" color="black">
		Powered by DCForumLite Version 3.0 &copy;1997-2000 by <a href="http://www.dcscripts.com">DCScripts</a>.
		All rights reserved.</font></TD></TR>	
</TABLE>

</CENTER>

<a href="http://counter.rambler.ru/top100/" alt="Rambler's Top100" target="_blank"><img align=right src="http://top100-images.rambler.ru/top100/w9.gif" border=0 width=88 height=31></a>

</BODY>
</HTML>
