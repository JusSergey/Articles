<html><head></head><body color="#FFFFFF">

   <font face="arial,sans-serif" size="2" color="#000099">
   <b>
   URL: /cgi-bin/dcforum/dcboard.cgi<br>
   Forum: DCForumID1<br>
   Thread Number: 137<br>
   [ <a href="http://www.kalinin.ru/dcforum//DCForumID1/137.html">Go back to previous page</a> ]
   </b><hr>
   
<b><font size=2>Original Message<hr>"Еще раз про realloc"</font></b><br>
Posted by ilias  on 27-Apr-04 at 07:56&nbsp;AM<br>
<blockquote>Возник вопрос - а тождественнен ли realloc следующему коду:<P>void resize(int new_size)<BR>{<BR>  new_data = new T<new_size>;<BR>  int marg = max&lt;int&gt;(size, new_size);<BR>  for(int i = 0; i &lt; marg; i++)<BR>    new_data<i> = data<i>;<BR>  delete<> data;<BR>  data = new_data;<BR>  size = new_size;   <BR>}<P>И еще: где оператор new<> запоминает размер массива? Ведь delete<> его использует. И если а напишу int* a = new int<1>, то можно ли в таком случае использовать delete вместо delete<>?</blockquote><hr><b><font size=2>Table of contents</font></b><hr>
<ul>
<li><b>RE: Еще раз про realloc</b>,<b>Proteus</b>, 02:01&nbsp;AM, 20-Nov-04
</ul>
<hr><b><font size=2>Messages in this discussion</font></b><hr>
<b>"RE: Еще раз про realloc"</b><br>
Posted by Proteus  on 20-Nov-04 at 02:01&nbsp;AM<br>
<blockquote>
Вообще помойму он просто тупо новый массив создаёт и туда бывшие данные копирует.<P>Как оно устроено это от комиплятора зависит. Обычно это какая-то область памяти выделенная для программы (именуемая кучей). А как там место распределяется, это уже наша забота. В винде например для этого системные функции предусмотрены. И то что ты хочешь тоже от много зависит. Если в Visual C будешь это делать, то ему это всё равно будет. А на других платформах у тебя вся прога может накрыться (у меня помнится она где-то именно из-за этого глючила по страшному)...<P>Едиственное что утешает, это то что можно создавать память с помощью new , потом изменять с помощью realloc, потом удалять с помощью delete, хотя это операторы из разных миров (у меня это нигде ещё не глючило)...<BR>
</blockquote>
<hr>
</font></body></html>
