<html><head><title>ALK :: XML :: XSL</title>
</head>
<body bgcolor="white" text="black">
<a href="http://counter.rambler.ru/top100/"><img align="left" src="http://counter.rambler.ru/top100.cnt?160852" alt="Rambler's Top100 Service" width=1 height=1 border=0></a>
Этот текст распечатан с домашней странички Андрея Калинина 
(<a href="http://www.kalinin.ru">www.kalinin.ru</a>).<br>
Оригинал статьи находится по этому адресу: <a href="http://www.kalinin.ru/programming/xml/11_08_00_x.shtml">http://www.kalinin.ru/programming/xml/11_08_00_x.shtml</a><br>
<hr>
<br>

<h1>Преобразование XML при помощи XSL
</h1>
<p align="right">11.08.00</p>
 
    <p align="justify">
      Одна из самых частых операций, которую требуется произвести
      с XML-документом, это показать его. Хочется предупредить сразу, что на этот
      раз я опять не буду рассматривать ни синтаксис XML-документов,
      ни примеров использования; этих материалов (в основном, правда,
      на английском языке) в интернете лежит предостаточно. Я просто 
      попытаюсь рассказать о том, что это такое "вообще" и как это
      можно использовать.
    </p>
    <p align="justify">
      Итак, задача заключается в изображении некоторого XML-документа, т.е.
      данных с выделенной в них структурой. На текущий момент можно сказать,
      что неприхотливее формата данных для отображения, чем HTML, не существует ---
      маленький размер, при желании разметку можно свести к минимуму и объем
      документа будет не очень сильно отличаться от количества байт полезной
      информации в нем, простота обработки, большое количество уже существующих 
      браузеров на различных плафтормах. Таким
      образом, напрашивается достаточно простое решение --- преобразовать
      XML-документ в соответствующее ему HTML-представление. Понятно,
      что при этом потеряется информация о структуре, но, зато, такой
      документ можно просмотреть любым браузером, т.е. донести-таки
      информацию до человека.
    </p>
    <p align="justify">
      XSL является механизмом, который решает, в принципе, более
      широкую проблему. Он позволяет преобразовать XML-документ с одной
      структурой в XML-документ с другой структурой, в частности, в HTML.
    </p>
    <p align="justify">
      XSL-документ представляет из себя, как вы сами понимаете, разновидность
      XML-документа, который используется для представления правил, по
      которым будет происходить преобразование. Правила основаны
      на совпадении шаблонов, т.е., например, "если встретился
      элемент A, то вставить указанный кусочек HTML-кода и продолжить
      поиск совпадений шаблонов дальше". Все очень похоже
      на функциональный или логический язык программирования: есть
      рекурсивная и процедурная семантика; например, кроме рекурсивных
      применений шаблонов существует возможность органзации 
      циклов ("для всех элементов A вставить такой HTML-код").
    </p>
    <p align="justify">
      Работает все это достаточно просто: для того, что бы
      преобразовать XML-документ по XSL-таблице нужно взять XSL-процессор,
      дать ему на вход два файла и на выходе получится результат. Это 
      первый вариант визуализации данных --- как только потребовалось
      просмотреть XML-документ, преобразовать его в HTML и просмотреть
      браузером.
    </p>
    <p align="justify">
      Второй вариант заключается в том, что сам браузер при открытии
      документа пытался бы выполнить соответствующее преобразование.
      В принципе, все хорошо, но это сейчас более-менее полно
      поддерживает только MS Internet Explorer 5.5 (с установленным
      MS XML SDK, который до сих пор имеет статус "бета"). Кое-какие намеки есть в Netscape, но 
      все остальные браузеры чуть проще (которые показывают только HTML-документы),
      работать с XSL не смогут --- как следствие теряется одно из самых важных
      преимуществ HTML-представления, переносимость текста между разными платформами.
      Кроме
      того XSL-преобразование происходит на стороне клиента (я имею
      в виду, если XML-документ выложен на сайте в интернете),
      что тоже не особенно хорошо... в том смысле, что это неуважение
      к читателю: требовать что бы он использовал IE последней версии (под FreeBSD, например)
      и что бы его компьютер еще выполнял какое-нибудь хитрое преобразование (понятно,
      что ресурсов оно отнимет мало, но отображение HTML-документа отнимет
      еще меньше ресурсов, а результат будет тем же). Надеюсь, ясно, что
      мое мнение заключается в том, что сейчас еще рано публиковать XML-документы
      в интеренте "просто так" --- есть HTML, значит его и надо
      отдавать пользователю.
    </p>
    <p align="justify">
      Третий вариант --- использование системы наподобие <a href="http://xml.apache.org/cocoon">Cocoon</a>, которая 
      занимается тем, что, работая на web-сервере, делает требуемое преобразование XML-документа
      до того как отдать его пользователю. В принципе, стоит отметить, что это достаточно разумный
      подход. Понятно, что технически размещение подобной системы на web-сервере ничем не отличается
      от установки SSI или PHP3 процессоров. При этом ресурсы у пользователя не 
      отбираются и, что самое главное, не требуется иметь браузер с возможностью выполнения
      XSL-преобразования. Ну и, наконец, появляется возможность публиковать XML-документы
      в том виде, в котором они поступили от авторов, просто выкладывая нужные файлы на сервер. Кроме
      всех этих прелестей, Cocoon предоставляет такую забавную возможность, как
      выбор XSL-преобразования для одного и того же документа по некоторым условиям. Одно
      из самых приятных условий --- идентификатор браузера, которым пользуется читатель; то есть
      появляется возможность "на лету" создавать страницы, оптимизированные для просмотра
      в конкретном браузере (например, для графических браузеров и для текстового lynx, или
      для IE и NN). Конечно, в последнем случае опять встает проблема, если между
      web-сервером и пользователями с разными браузерами находится proxy-сервер, но
      это уже совсем другой вопрос.
    </p>
    <p align="justify">
      Как вы, надеюсь, поняли, лично я считаю, что самые лучшие варианты для публикации
      XML-документов --- использование XSL-преобразования до того как выложить
      файлы на сервер или установка XSL-процессора, который выполняет такое преобразование
      "на лету". Собственно, в этом и заключается моя маленькая мечта --- перевести
      свою домашнюю страничку в XML и выполнять соответствующее преобразование... так оно
      и будет когда-нибудь, а пока что я постоянно забываю исправить некоторые недочеты
      в уже имеющейся  XSL-таблице, поэтому пополняю свою страничку по старому.
    </p>
    <p align="justify">
      Конечно же, существуют варианты, когда информацию просто невозможно
      наглядно отобразить при помощи HTML, например, химические или математические формулы.
      В таких случаях, кроме использования специализированных браузеров,
      может помочь опять же XSL и инструмент наподобие <a href="http://xml.apache.org/fop">FOP</a>
      который позволяет на основании XSL генерировать файлы в PDF. Некоторые издательские
      системы умеют работать с данными, представленными в SGML или XML... так что XSL достаточно удобен
      и популярен.
    </p>

<h2>Резюме</h2>
    <p align="justify">
      XSL позволяет сделать из одного XML-документа другой,
      в частности, HTML. Этот механизм можно использовать
      для визуализации данных, содержащихся в XML.
    </p>



<h2>Ссылки по теме</h2>


<table width="100%" border="0" cellspacing="0" cellpadding="5">
<tr><td><a href="http://www.w3.org/xml" target="_blank">http://www.w3.org/xml</a></td>
<td width="100%">
     Раздел на сайте W3C, посвященный XML.
</td></tr>
<tr><td><a href="http://www.w3.org/xsl" target="_blank">http://www.w3.org/xsl</a></td>
<td width="100%">
     Раздел на сайте W3C, посвященный XSL.
</td></tr>
<tr><td><a href="http://www.bim.f2s.com" target="_blank">http://www.bim.f2s.com</a></td>
<td width="100%">
     Некоторая информация (более формальная, чем изложена выше) про XML и XSL. К сожалению,     этот сайт выполнен как раз в манере "второго варианта", т.е. требует     наличия браузера с возможностью XSL-преобразования, т.е. IE 5.x.
</td></tr>
<tr><td><a href="http://xml.apache.org" target="_blank">http://xml.apache.org</a></td>
<td width="100%">
     Apache XML Project --- FOP и Cocoon входят в этот проект.
</td></tr>
<tr><td><a href="http://www.xmlsoftware.com" target="_blank">http://www.xmlsoftware.com</a></td>
<td width="100%">
     XMLSoftware --- набор ссылок на программное обеспечение для работы с XML.     В частности, на XSL-процессоры.
</td></tr>
<tr><td><a href="http://www.citforum.ru/internet/xml.shtml" target="_blank">http://www.citforum.ru/interne</a></td>
<td width="100%">
     Раздел, посвященный XML, на сервере Центра Информационных Технологий.
</td></tr>
</table>


<hr>
&copy;2000-2001 by Andrey L. Kalinin, 
<a href="http://counter.rambler.ru/top100/" alt="Rambler's Top100" target="_blank"><img align=right src="http://images.rambler.ru/top100/banner-88x31-rambler-black2.gif" border=0 width=88 height=31></a>
<br>
andrey@kalinin.ru
</body>
</html>
