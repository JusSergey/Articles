jQuery(document).ready(function(){function e(e,t){var i=parseInt(e.slice(1),16),r=Math.round(2.55*t),o=(i>>16)+r,n=(i>>8&255)+r,p=(255&i)+r;return"#"+(16777216+65536*(255>o?1>o?0:o:255)+256*(255>n?1>n?0:n:255)+(255>p?1>p?0:p:255)).toString(16).slice(1)}var t=tpbr_settings.user_who,i=tpbr_settings.initial_state,r=tpbr_settings.fixed,o=tpbr_settings.guests_or_users,n=tpbr_settings.yn_close,p=tpbr_settings.fontsize,s=tpbr_settings.delay,d=tpbr_settings.border,l=tpbr_settings.message,a=tpbr_settings.button_url,b=tpbr_settings.button_text,u=tpbr_settings.color,g=tpbr_settings.status,c=tpbr_settings.yn_button,y=tpbr_settings.is_admin_bar,x=tpbr_settings.close_url,_="notok";if("notloggedin"==t&&"guests"==o&&(_="ok"),"loggedin"==t&&"users"==o&&(_="ok"),"all"==o&&(_="ok"),"ok"==_){if("button"==c)var f=e(u,-12),h='<a id="tpbr_calltoaction" style="background:'+f+'; display:inline-block; padding:2px 10px 2px; color:white; text-decoration:none; margin: 0px 20px 1px;border-radius:3px; line-height:29px;" href="'+a+'" onclick="ga(\'send\', \'event\', \'buttons\', \'click\', \'top-bar-call-to-action\');">'+b+"</a>";else var h="";if("notfixed"==r)var v="";if(""==r||null==r)var v="";if("border"==d)var j="border-bottom:3px solid "+f+" !important; ";else var j="";if(jQuery.cookie("tpbr_closer"))var Q=jQuery.cookie("tpbr_closer");else"close"==i?(jQuery(".tpbr_closing").hide(),jQuery("#tpbr_topbar").hide(),jQuery.cookie("tpbr_closer","1"),jQuery(".tpbr_opening").delay(100).slideDown(100)):Q="0";if("active"==g){if("close"==n)if("fixed"===r)var k='<span class="tpbr_closing" style="display:inline; float:right; position:absolute; right:20px; top:12px; height:20px; width:20px; cursor:pointer; background:url('+x+')"></span>';else if("yes"===y)var k='<span class="tpbr_closing" style="display:inline; float:right; position:absolute; right:20px; top:44px; height:20px; width:20px; cursor:pointer; background:url('+x+')"></span>';else var k='<span class="tpbr_closing" style="display:inline; float:right; position:absolute; right:20px; top:12px; height:20px; width:20px; cursor:pointer; background:url('+x+')"></span>';else var k="";if("fixed"==r){if("yes"===y)var v="position:fixed; z-index:99999; width:100%; left:0px; top:0; margin-top:32px;",w="top: 32px !important;";else var v="position:fixed; z-index:99999; width:100%; left:0px; top:0;",w="top: 0px !important;";setTimeout(function(){"1"==Q?(jQuery('<div class="pushr" style="height:44px;"><div id="tpbr_topbar" style="'+v+" background:"+u+";"+j+'"><div id="tpbr_box" style="padding:6px 0px 5px; background:'+u+"; margin:0 auto; line-height:32px; text-align:center; width:100%; color:white; font-size:"+p+'px; font-family: Helvetica, Arial, sans-serif;  font-weight:300;">'+l+h+"</div>"+k+"</div>").prependTo("body").hide(),jQuery('<div style="'+w+" background-color:"+u+'; position:fixed !important;" class="tpbr_opening"></div>').prependTo("body")):(jQuery('<div class="pushr" style="height:44px;"><div id="tpbr_topbar" style="'+v+" background:"+u+";"+j+'"><div id="tpbr_box" style="background:'+u+"; padding:6px 0px 5px; margin:0 auto; line-height:32px; font-size:"+p+'px; font-family: Helvetica, Arial, sans-serif; text-align:center; width:100%; color:white; font-weight:300;">'+l+h+"</div>"+k+"</div>").prependTo("body").hide().slideDown(100),jQuery('<div style="'+w+" background-color:"+u+'; position:fixed;" class="tpbr_opening"></div>').prependTo("body").hide())},s),"1"==Q&&jQuery('<div style="'+w+" background-color:"+u+'; position:fixed !important;" class="tpbr_opening"></div>').prependTo("body")}else{if("yes"===y)var w="top: 32px !important;";else var w="top: 0px !important;";setTimeout(function(){"1"==Q?(jQuery('<div id="tpbr_topbar" style="position:relative; z-index:9999999; '+v+" background:"+u+";"+j+'"><div id="tpbr_box" style="padding:6px 0px 5px; background:'+u+"; margin:0 auto; line-height:32px; text-align:center; width:100%; color:white; font-size:"+p+'px; font-family: Helvetica, Arial, sans-serif;  font-weight:300;">'+l+h+"</div>"+k+"</div>").prependTo("body").hide(),jQuery('<div style="'+w+" background-color:"+u+';" class="tpbr_opening"></div>').prependTo("body")):(jQuery('<div id="tpbr_topbar" style="position:relative; z-index:9999999; '+v+" background:"+u+";"+j+'"><div id="tpbr_box" style="padding:6px 0px 5px; background:'+u+"; margin:0 auto; line-height:32px; text-align:center; width:100%; color:white; font-size:"+p+'px; font-family: Helvetica, Arial, sans-serif;  font-weight:300;">'+l+h+"</div>"+k+"</div>").prependTo("body").hide().slideDown(100),jQuery('<div style="'+w+" background-color:"+u+';" class="tpbr_opening"></div>').prependTo("body").hide())},s)}}setTimeout(function(){jQuery(".tpbr_closing").click(function(){"fixed"==r?(jQuery(".tpbr_closing").fadeOut(200),jQuery("#tpbr_topbar").slideUp(200),jQuery.cookie("tpbr_closer","1"),jQuery(".tpbr_opening").delay(100).slideDown(100),jQuery(".pushr").delay(100).slideUp(100)):(jQuery(".tpbr_closing").fadeOut(200),jQuery("#tpbr_topbar").slideUp(200),jQuery.cookie("tpbr_closer","1"),jQuery(".tpbr_opening").delay(100).slideDown(100))}),jQuery(".tpbr_opening").click(function(){"fixed"==r?(jQuery(".tpbr_opening").slideUp(100),jQuery("#tpbr_topbar").slideDown(300),jQuery(".tpbr_closing").delay(350).fadeIn(200),jQuery.cookie("tpbr_closer","0"),jQuery(".pushr").delay(350).fadeIn(200)):(jQuery(".tpbr_opening").slideUp(100),jQuery("#tpbr_topbar").slideDown(300),jQuery.cookie("tpbr_closer","0"),jQuery(".tpbr_closing").delay(350).fadeIn(200))}),jQuery(".tpbr_opening").css("backgroundColor",u)},s)}});;var Elevator=function(options){'use strict';var body=null;var animation=null;var duration=null;var customDuration=false;var startTime=null;var startPosition=null;var endPosition=0;var targetElement=null;var elevating=false;var startCallback;var mainAudio;var endAudio;var volumeAudio;var endCallback;var that=this;function easeInOutQuad(t,b,c,d){t/=d/2;if(t<1)return c/2*t*t+b;t--;return-c/2*(t*(t-2)-1)+b;}
function extendParameters(options,defaults){for(var option in defaults){var t=options[option]===undefined&&typeof option!=="function";if(t){options[option]=defaults[option];}}
return options;}
function getVerticalOffset(element){var verticalOffset=0;while(element){verticalOffset+=element.offsetTop||0;element=element.offsetParent;}
return verticalOffset;}
function animateLoop(time){if(!startTime){startTime=time;}
var timeSoFar=time-startTime;var easedPosition=easeInOutQuad(timeSoFar,startPosition,endPosition-startPosition,duration);window.scrollTo(0,easedPosition);if(timeSoFar<duration){animation=requestAnimationFrame(animateLoop);}else{animationFinished();}}
this.elevate=function(){if(elevating){that.finish();return;}
elevating=true;startPosition=(document.documentElement.scrollTop||body.scrollTop);updateEndPosition();if(!customDuration){duration=(Math.abs(endPosition-startPosition)*1.5);}
requestAnimationFrame(animateLoop);if(mainAudio){mainAudio.play();}
if(startCallback){startCallback();}};this.finish=function(){if(elevating){cancelAnimationFrame(animation);resetPositions();if(mainAudio){mainAudio.pause();mainAudio.currentTime=0;}
updateEndPosition();window.scrollTo(0,endPosition);if(endCallback){endCallback();}}};function browserMeetsRequirements(){return window.requestAnimationFrame&&window.Audio&&window.addEventListener;}
function resetPositions(){startTime=null;startPosition=null;elevating=false;}
function updateEndPosition(){if(targetElement){endPosition=getVerticalOffset(targetElement);}}
function animationFinished(){resetPositions();if(mainAudio){mainAudio.pause();mainAudio.currentTime=0;}
if(endAudio){endAudio.play();}
if(endCallback){endCallback();}}
function bindElevateToElement(element){if(element.addEventListener){element.addEventListener('click',that.elevate,false);}else{element.attachEvent('onclick',function(){updateEndPosition();document.documentElement.scrollTop=endPosition;document.body.scrollTop=endPosition;window.scroll(0,endPosition);});}}
function init(_options){body=document.body;var defaults={duration:undefined,mainAudio:false,volumeAudio:1,endAudio:false,preloadAudio:true,loopAudio:true,startCallback:null,endCallback:null};_options=extendParameters(_options,defaults);if(_options.element){bindElevateToElement(_options.element);}
if(!browserMeetsRequirements()){return;}
if(_options.duration){customDuration=true;duration=_options.duration;}
if(_options.targetElement){targetElement=_options.targetElement;}
window.addEventListener('blur',that.finish,false);if(_options.mainAudio){mainAudio=new Audio(_options.mainAudio);mainAudio.setAttribute('preload',_options.preloadAudio);mainAudio.setAttribute('loop',_options.loopAudio);mainAudio.volume=_options.volumeAudio;}
if(_options.endAudio){endAudio=new Audio(_options.endAudio);endAudio.setAttribute('preload','true');endAudio.volume=_options.volumeAudio;}
if(_options.endCallback){endCallback=_options.endCallback;}
if(_options.startCallback){startCallback=_options.startCallback;}}
init(options);};